<?php 
/* ΙΜµΘνΌώ½ϋΦΉ·΄±ΰλ£¬by Π΅Πύ·ηseo ΝψΦ·£Ίxxfseo.com */
defined('APP_ROOT') or exit("access denied"); $»·ηG['Ιϊ£Ϊίμπ']=ιξΛ­ΓΌΉΜΈ(0x4,ιξΛ­ΓΌΉΜΈ(0x5,'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')); class Robot{function __construct($­ήψΗω±ω=array()){global $»·ηG;$»·ηG_Ιϊ£Ϊίμπ_0x4=$»·ηG['Ιϊ£Ϊίμπ'][0x4];$this->­ήψΗω±ω=$­ήψΗω±ω ? $­ήψΗω±ω : $»·ηG['Ιϊ£Ϊίμπ'][0x0](ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x1)); $this->Γµ²ικΡΡΘγ=$»·ηG['Ιϊ£Ϊίμπ'][0x2](); $this->ςηΘη=$»·ηG['Ιϊ£Ϊίμπ'][0x3](); $this->Λ Ω=$_SERVER ["HTTP_USER_AGENT"]; $this->ΘΑωοΕ³±¥μω=$this->$»·ηG_Ιϊ£Ϊίμπ_0x4(); $this->ΡΡΉΠ=$»·ηG['Ιϊ£Ϊίμπ'][0x5](ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x6)); $this->ϊσΰΊΡ°βΆ=$»·ηG['Ιϊ£Ϊίμπ'][0x5](ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x7)); $this->ΓΫ®ί=ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x8); $this->άΈηΜΉι=array(); } public function get(){global $»·ηG;$»·ηG_Ιϊ£Ϊίμπ_0x1b=$»·ηG['Ιϊ£Ϊίμπ'][0x1b];static $μΨΎΞΔ; if(isset($μΨΎΞΔ)){return $μΨΎΞΔ; } $ΧΒ―ΖΎ=TEMP_PATH.ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x9); if($»·ηG['Ιϊ£Ϊίμπ'][0xa]($ΧΒ―ΖΎ)){$¤¥ψ©Ώ=include($ΧΒ―ΖΎ); if($»·ηG['Ιϊ£Ϊίμπ'][0xb]($¤¥ψ©Ώ) && !empty($¤¥ψ©Ώ)){foreach($¤¥ψ©Ώ as $«›ΤΉ=>$Θϊ―ρ—Σ·ΘλΟ){if(!$»·ηG['Ιϊ£Ϊίμπ'][0xc]($Θϊ―ρ—Σ·ΘλΟ['robotip_checktype'],array(ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0xd),ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0xe)))){continue; } $»·ηG_Ιϊ£Ϊίμπ_0xf=$»·ηG['Ιϊ£Ϊίμπ'][0xf];if($this->$»·ηG_Ιϊ£Ϊίμπ_0xf($Θϊ―ρ—Σ·ΘλΟ['robotip_rules'])){$μΨΎΞΔ=$«›ΤΉ; return $«›ΤΉ; } } } } foreach( $this->­ήψΗω±ω as $«›ΤΉ=>$Ήκ΅¨σζΗΒμ ){if($»·ηG['Ιϊ£Ϊίμπ'][0x10]($»·ηG['Ιϊ£Ϊίμπ'][0x11]($this->Λ Ω),$»·ηG['Ιϊ£Ϊίμπ'][0x11]($«›ΤΉ))>-ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x12)){if($«›ΤΉ==ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x13)){$«›ΤΉ=ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x14); } $άΡ²δ=DATA_PATH.ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x15).$»·ηG['Ιϊ£Ϊίμπ'][0x11]($«›ΤΉ).ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x16); if(!$this->άΈηΜΉι && $»·ηG['Ιϊ£Ϊίμπ'][0xa]($άΡ²δ)){$this->άΈηΜΉι=$»·ηG['Ιϊ£Ϊίμπ'][0x17]($»·ηG['Ιϊ£Ϊίμπ'][0x18]($άΡ²δ,ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x19))); if($this->άΈηΜΉι['robotip_checktype']==ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0xd)){$μΨΎΞΔ=ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x1a); if($this->άΈηΜΉι['robotip_ban']){$this->$»·ηG_Ιϊ£Ϊίμπ_0x1b($«›ΤΉ); } return ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x1a); } if($this->άΈηΜΉι['robotip_checktype']==ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x1c)){$έ—ΝμΘΘΆ΅ΞΛ=$this->άΈηΜΉι['robotip_rules']; $»·ηG_Ιϊ£Ϊίμπ_0xf=$»·ηG['Ιϊ£Ϊίμπ'][0xf];if(!$this->$»·ηG_Ιϊ£Ϊίμπ_0xf($έ—ΝμΘΘΆ΅ΞΛ)){$μΨΎΞΔ=ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x1a); if($this->άΈηΜΉι['robotip_ban']){$this->$»·ηG_Ιϊ£Ϊίμπ_0x1b($«›ΤΉ); }else{return ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x1a); } } } } $μΨΎΞΔ=$«›ΤΉ; return $«›ΤΉ; } } if($this->¨±—ΒΕ()){$μΨΎΞΔ=ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x1d); }else{$μΨΎΞΔ=ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x1a); } return $μΨΎΞΔ; } public function ¨±—ΒΕ(){global $»·ηG;static $ρΛ―®φηΠ=null; if(null == $ρΛ―®φηΠ){$ρΛ―®φηΠ=ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x1a); if(preg_match(ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x1e),$this->Λ Ω) && !preg_match(ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x1f),$this->Λ Ω)){$ρΛ―®φηΠ=ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x20); } } return $ρΛ―®φηΠ; } public function ·±χ–²ΞΎΦΥ($»Ζ΄πφ²¦χρ){global $»·ηG;$ΡΏζΝν=$»·ηG['Ιϊ£Ϊίμπ'][0x21](ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x22),$»Ζ΄πφ²¦χρ); if($this->ΘΑωοΕ³±¥μω && $»·ηG['Ιϊ£Ϊίμπ'][0xc]($this->ΘΑωοΕ³±¥μω,$ΡΏζΝν)){return ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x20); } return ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x1a); } public function ban($μΨΎΞΔ=''){global $»·ηG;$»·ηG_Ιϊ£Ϊίμπ_0x2a=$»·ηG['Ιϊ£Ϊίμπ'][0x2a];if($»·ηG['Ιϊ£Ϊίμπ'][0x0](ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x23)) && $μΨΎΞΔ!=''){$ΑχξΪΰΛΊ=IS_MOBILE?ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x24):'0'; $κΪ®Ψτσΰυΰκ=CACHE_PATH.ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x25); $ήϊΊ–ΝΠκ¶=$»·ηG['Ιϊ£Ϊίμπ'][0x26](ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x27),array($»·ηG['Ιϊ£Ϊίμπ'][0x5](ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x28)),$this->Γµ²ικΡΡΘγ,$μΨΎΞΔ,$this->ςηΘη,$ΑχξΪΰΛΊ)).ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x29); $this->$»·ηG_Ιϊ£Ϊίμπ_0x2a($κΪ®Ψτσΰυΰκ,$ήϊΊ–ΝΠκ¶,ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x2b)); $this->$»·ηG_Ιϊ£Ϊίμπ_0x2a(CACHE_PATH.ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x2c),ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x12),ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x2b)); } $»·ηG['Ιϊ£Ϊίμπ'][0x2d](ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x2e)); exit; } public function notes(){global $»·ηG;$»·ηG_Ιϊ£Ϊίμπ_0x2a=$»·ηG['Ιϊ£Ϊίμπ'][0x2a];$ΔΆΩξςΐΊ›=ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x2f); if(!$»·ηG['Ιϊ£Ϊίμπ'][0xa]($ΔΆΩξςΐΊ›)){$this->$»·ηG_Ιϊ£Ϊίμπ_0x2a($ΔΆΩξςΐΊ›,'0'); } $τΐθΰ³ςα®=array(); $»·ηG_Ιϊ£Ϊίμπ_0x4=$»·ηG['Ιϊ£Ϊίμπ'][0x4];if($this->$»·ηG_Ιϊ£Ϊίμπ_0x4() && $»–Ε®Υ§αο=$»·ηG['Ιϊ£Ϊίμπ'][0x30]($ΔΆΩξςΐΊ›,ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x31))){$πΛΎ©ΞΊΆ=$»·ηG['Ιϊ£Ϊίμπ'][0x32](ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x20))*ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x33); do{$Βτ½φΧ¨ υ=$»·ηG['Ιϊ£Ϊίμπ'][0x34]($»–Ε®Υ§αο,ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x35) | ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x36)); if(!$Βτ½φΧ¨ υ){$»·ηG['Ιϊ£Ϊίμπ'][0x37]($»·ηG['Ιϊ£Ϊίμπ'][0x38]($»·ηG['Ιϊ£Ϊίμπ'][0x39](ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x3a),ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x3b))*ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x33))); } }while(!$Βτ½φΧ¨ υ && ($»·ηG['Ιϊ£Ϊίμπ'][0x32](ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x20))*ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x33)-$πΛΎ©ΞΊΆ)<ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x33)); if(!$Βτ½φΧ¨ υ){return ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x1a); } $ΑχξΪΰΛΊ=IS_MOBILE?ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x24):'0'; $ήϊΊ–ΝΠκ¶=$»·ηG['Ιϊ£Ϊίμπ'][0x26](ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x27),array($»·ηG['Ιϊ£Ϊίμπ'][0x5](ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x28)),$this->Γµ²ικΡΡΘγ,$this->ΘΑωοΕ³±¥μω,$this->ςηΘη,$»·ηG['Ιϊ£Ϊίμπ'][0x0](ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x3c)),$ΑχξΪΰΛΊ)).ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x29); $this->$»·ηG_Ιϊ£Ϊίμπ_0x2a("./temp/robotlog/all/{$this->ΡΡΉΠ}.log",$ήϊΊ–ΝΠκ¶,ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x2b)); $πΟΛζ£=$»·ηG['Ιϊ£Ϊίμπ'][0xc]($this->ΘΑωοΕ³±¥μω,$»·ηG['Ιϊ£Ϊίμπ'][0x0](ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x3d)))?$this->ΘΑωοΕ³±¥μω:ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x1d); $this->$»·ηG_Ιϊ£Ϊίμπ_0x2a("./temp/robotlog/{$πΟΛζ£}/{$this->ΡΡΉΠ}.log",$ήϊΊ–ΝΠκ¶,ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x2b)); $this->$»·ηG_Ιϊ£Ϊίμπ_0x2a("./temp/robotlog/{$πΟΛζ£}/{$this->ΡΡΉΠ}_count.log",ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x12),ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x2b)); $this->$»·ηG_Ιϊ£Ϊίμπ_0x2a("./temp/robotlog/hour/{$this->ΡΡΉΠ}/{$this->ϊσΰΊΡ°βΆ}.log",ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x12),ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x2b)); $»·ηG['Ιϊ£Ϊίμπ'][0x34]($»–Ε®Υ§αο,ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x3e)); $»·ηG['Ιϊ£Ϊίμπ'][0x3f]($»–Ε®Υ§αο); } } public function write($λάΥέζΥθΫ™υ,$ήϊΊ–ΝΠκ¶,$¶άθΦΒ ¬θ›="w"){global $»·ηG;$–½ωΐΛμκ=$»·ηG['Ιϊ£Ϊίμπ'][0x40]($λάΥέζΥθΫ™υ); if(!$»·ηG['Ιϊ£Ϊίμπ'][0x41]($–½ωΐΛμκ)){$»·ηG['Ιϊ£Ϊίμπ'][0x42]($–½ωΐΛμκ,ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x43),ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x20)); } if( $»·ηG['Ιϊ£Ϊίμπ'][0xa]($λάΥέζΥθΫ™υ) && !$»·ηG['Ιϊ£Ϊίμπ'][0x44]($λάΥέζΥθΫ™υ) && ($»·ηG['Ιϊ£Ϊίμπ'][0x45]($λάΥέζΥθΫ™υ)+ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x46)>$»·ηG['Ιϊ£Ϊίμπ'][0x47]())){return ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x1a); } $Η¶Εχδ=ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x1a); if($ΐΫβτϊΒΆ=$»·ηG['Ιϊ£Ϊίμπ'][0x30]($λάΥέζΥθΫ™υ,$¶άθΦΒ ¬θ›)){$πΛΎ©ΞΊΆ=$»·ηG['Ιϊ£Ϊίμπ'][0x32](ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x20))*ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x33); do{$ΓΈπ·ν=$»·ηG['Ιϊ£Ϊίμπ'][0x34]($ΐΫβτϊΒΆ,ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x35) | ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x36)); if(!$ΓΈπ·ν){$»·ηG['Ιϊ£Ϊίμπ'][0x37]($»·ηG['Ιϊ£Ϊίμπ'][0x38]($»·ηG['Ιϊ£Ϊίμπ'][0x39](ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x3a),ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x3b))*ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x33))); } }while(!$ΓΈπ·ν && (($»·ηG['Ιϊ£Ϊίμπ'][0x32](ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x20))*ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x33)-$πΛΎ©ΞΊΆ)<ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x33))); if($ΓΈπ·ν){$Η¶Εχδ=$»·ηG['Ιϊ£Ϊίμπ'][0x48]($ΐΫβτϊΒΆ,$ήϊΊ–ΝΠκ¶); $»·ηG['Ιϊ£Ϊίμπ'][0x34]($ΐΫβτϊΒΆ,ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x3e)); } $»·ηG['Ιϊ£Ϊίμπ'][0x3f]($ΐΫβτϊΒΆ); } return $Η¶Εχδ; } public function recount(){global $»·ηG;$»·ηG_Ιϊ£Ϊίμπ_0x2a=$»·ηG['Ιϊ£Ϊίμπ'][0x2a];$»·ηG['Ιϊ£Ϊίμπ'][0x49](); @$»·ηG['Ιϊ£Ϊίμπ'][0x4a](ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x4b)); @$»·ηG['Ιϊ£Ϊίμπ'][0x4c]($this->ΓΫ®ί); $–½ωΐΛμκ=ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x4d); $ήµΤ«=$»·ηG['Ιϊ£Ϊίμπ'][0x4e]($–½ωΐΛμκ.ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x4f)); $¨αΑ³ΰρΏ™=array(); $»·ηG['Ιϊ£Ϊίμπ'][0x50]($ήµΤ«); foreach($ήµΤ« as $«›ΤΉ=>$Θϊ―ρ—Σ·ΘλΟ){if(!preg_match(ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x51),$Θϊ―ρ—Σ·ΘλΟ)){continue; } $ΡΡΉΠ=preg_replace(ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x52),'',$»·ηG['Ιϊ£Ϊίμπ'][0x53]($Θϊ―ρ—Σ·ΘλΟ)); if($»·ηG['Ιϊ£Ϊίμπ'][0xa]($Θϊ―ρ—Σ·ΘλΟ)){$ΐΫβτϊΒΆ=$»·ηG['Ιϊ£Ϊίμπ'][0x30]($Θϊ―ρ—Σ·ΘλΟ, ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x54)); $Ο ΩΰΐΙ=ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x3a); while(!$»·ηG['Ιϊ£Ϊίμπ'][0x55]($ΐΫβτϊΒΆ)){$ήϊΊ–ΝΠκ¶=$»·ηG['Ιϊ£Ϊίμπ'][0x56]($ΐΫβτϊΒΆ,ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x57)*ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x46)); if(!$ήϊΊ–ΝΠκ¶) break; while($»·ηG['Ιϊ£Ϊίμπ'][0x58]($ήϊΊ–ΝΠκ¶,-ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x12))!=ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x29) && !$»·ηG['Ιϊ£Ϊίμπ'][0x55]($ΐΫβτϊΒΆ)){$ήϊΊ–ΝΠκ¶.=$»·ηG['Ιϊ£Ϊίμπ'][0x56]($ΐΫβτϊΒΆ,ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x12)); } $ρΖψΎΣ΄ζ=$»·ηG['Ιϊ£Ϊίμπ'][0x21](ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x29),$ήϊΊ–ΝΠκ¶); foreach($ρΖψΎΣ΄ζ as $ΌΟ·ηΕ µ―£=>$ςε·υά){list($ΡΧ½ΰή©Ϊ­,$Γµ²ικΡΡΘγ,$ηεάέγΉ£΅µΨ,$ςηΘη)=$»·ηG['Ιϊ£Ϊίμπ'][0x21](ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x27),$»·ηG['Ιϊ£Ϊίμπ'][0x59]($ςε·υά)); if(!$ηεάέγΉ£΅µΨ){continue; } if($ηεάέγΉ£΅µΨ==ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x5a)){$ηεάέγΉ£΅µΨ=ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x5b); } $πΟΛζ£=$»·ηG['Ιϊ£Ϊίμπ'][0xc]($ηεάέγΉ£΅µΨ,$»·ηG['Ιϊ£Ϊίμπ'][0x0](ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x3d)))?$ηεάέγΉ£΅µΨ:ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x1d); @$¨αΑ³ΰρΏ™[$ΡΡΉΠ][$πΟΛζ£]+=ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x12); } } $»·ηG['Ιϊ£Ϊίμπ'][0x3f]($ΐΫβτϊΒΆ); } } foreach($¨αΑ³ΰρΏ™ as $«›ΤΉ=>$Θϊ―ρ—Σ·ΘλΟ){foreach($Θϊ―ρ—Σ·ΘλΟ as $ΌΟ·ηΕ µ―£=>$ςε·υά){$this->$»·ηG_Ιϊ£Ϊίμπ_0x2a("./temp/robotlog/{$ΌΟ·ηΕ µ―£}/{$«›ΤΉ}_recount.log",$ςε·υά); } } return ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x20); } public function checkip($ΔδΝ=''){global $»·ηG;if(empty($ΔδΝ)) return ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x1a); $ΔδΝ=$»·ηG['Ιϊ£Ϊίμπ'][0x21](ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x5c),$ΔδΝ); $Γµ²ικΡΡΘγ=$this->Γµ²ικΡΡΘγ; $ΊΘβ©=ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x1a); foreach( $ΔδΝ as $Ήκ΅¨σζΗΒμ ){if($»·ηG['Ιϊ£Ϊίμπ'][0x5d]($Ήκ΅¨σζΗΒμ,ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x5e))){$ΫΉΘ­Έ£=$»·ηG['Ιϊ£Ϊίμπ'][0x21](ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x5e),$Ήκ΅¨σζΗΒμ); $χΨδέ£=$»·ηG['Ιϊ£Ϊίμπ'][0x58]($»·ηG['Ιϊ£Ϊίμπ'][0x5f]($ΫΉΘ­Έ£[ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x3a)],ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x60)),ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x12)); $ςµΓ=$»·ηG['Ιϊ£Ϊίμπ'][0x58]($»·ηG['Ιϊ£Ϊίμπ'][0x5f]($ΫΉΘ­Έ£[ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x12)],ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x60)),ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x12)); $ΜΌΥψ=$»·ηG['Ιϊ£Ϊίμπ'][0x58]($»·ηG['Ιϊ£Ϊίμπ'][0x5f]($Γµ²ικΡΡΘγ,ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x60)),ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x12)); $§Δ―Ε«µΟ©£=$»·ηG['Ιϊ£Ϊίμπ'][0x58]($ΫΉΘ­Έ£[ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x3a)],ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x3a),$»·ηG['Ιϊ£Ϊίμπ'][0x61]($ΫΉΘ­Έ£[ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x3a)],ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x60))); $ ΙΊΓΉλΘ›ί¦=$»·ηG['Ιϊ£Ϊίμπ'][0x58]($ΫΉΘ­Έ£[ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x12)],ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x3a),$»·ηG['Ιϊ£Ϊίμπ'][0x61]($ΫΉΘ­Έ£[ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x3a)],ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x60))); $·Β΄Χ»–Ψ—Μ=$»·ηG['Ιϊ£Ϊίμπ'][0x58]($Γµ²ικΡΡΘγ,ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x3a),$»·ηG['Ιϊ£Ϊίμπ'][0x61]($ΫΉΘ­Έ£[ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x3a)],ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x60))); if($»·ηG['Ιϊ£Ϊίμπ'][0x62]($§Δ―Ε«µΟ©£,$ ΙΊΓΉλΘ›ί¦)==ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x3a) && $»·ηG['Ιϊ£Ϊίμπ'][0x62]($ ΙΊΓΉλΘ›ί¦,$·Β΄Χ»–Ψ—Μ)==ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x3a) && $χΨδέ£<=$ΜΌΥψ && $ΜΌΥψ<=$ςµΓ ){$ΊΘβ©=ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x20); break; } }else{$Ήκ΅¨σζΗΒμ=$»·ηG['Ιϊ£Ϊίμπ'][0x63](array(ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x64),ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x60)),array(ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x65),ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x66)),$Ήκ΅¨σζΗΒμ); if(preg_match(ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x67).$Ήκ΅¨σζΗΒμ.ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x68),$Γµ²ικΡΡΘγ)){$ΊΘβ©=ιξΛ­ΓΌΉΜΈ(0x2,'Ιϊ£Ϊίμπ',0x20); break; } } } return $ΊΘβ©; } }