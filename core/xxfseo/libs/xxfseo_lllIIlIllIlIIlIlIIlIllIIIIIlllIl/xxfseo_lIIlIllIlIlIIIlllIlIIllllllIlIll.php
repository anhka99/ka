<?php 
/* ÉÌÒµÈí¼þ½ûÖ¹·´±àÒë£¬by Ð¡Ðý·çseo ÍøÖ·£ºxxfseo.com */
defined('APP_ROOT') or exit("access denied"); $»·çG['è« à¹ÃÉœ']=éîË­Ã¼¹Ì¸(0x4,éîË­Ã¼¹Ì¸(0x5,'LGb0Zmc7nGbjB3Z6ZmV6VwL1Amt3AQL1AaV3ZmL5AaZ2pwImAaN2pmLkAwD2AGL0VwgcBwR7pmbkZQbvAmV2AGL0Awx3ZlV7nGblB3Z6AQD6VaV2BKOhoaV1o3N4ZUV1BGOhp3V2BQyhBKV1omR5AGAhZwN3ZwL1AwD2BGpmVwgcBwZ7pmbkZwbvAwt2AGLkAwD2AGplVwgcBwD7pmb4BQbvAQZ2pmMlAmD2AGMlAmDlpGH0Amx3ZQL1Z242ZGpjAmN2pQL5AwZ2ZGp0Awx2pmMlZaZ2owpmAaZ2pwAiZwN2ZmL4AwR3ZwpmAwH3AQAkAmH3AQL2ZaRmBPV7nGb1B3Z6ZwV6VwMhAmZ2pmMlAKZ2AGMlAwZ2pmL0AwHvB2x6AwgmBwRlBvV3Zmp0AwR3AQp1AmZvB2x6AmgcBwN7nGb4B3Z6BQbvAwx2pwL2AaZvB2x6BGgmBwZjBvV3AQL4AmV2pmp3AKZ2AGp4AwZ2AGpjAmD2BGMmAaVvB2x6ZGN7pmb4BvV2BQMmAmZ3APV7nGbkZGgmBwRlBvV2ZmMmAaV2AwL5AwpvB2x6ZGV7pmblZQbvAmV2AGL0Awx3ZmImAwt2pmpmAmDvB2x6ZGZ7pmbkBQbvZmRmZwZ3ZaVmZQWlZmNlpwZkVwgcBwR0B3Z6BQbvAmN2pmplAmDvB2x6ZGH7pmblZQbvAmV2AGL0Awx3ZmImAmN2pmplAmDvB2x6ZGL7nGb2Zmp5B2x6ZGp7pmbkAQbvAmD2BGMkAwH2pmp1AmDvB2x6ZGt7pmbmAwbvAQD0ZGH0AQR1pmDmAQR0ZmD4AQH1pmH0AQx0pGD1AUZ1AGH0VwgcBwR5B2V6ZQgcBwVjB3Z6ZGL6VwpjAwR3ZmpmAmp2pmplAwDvB2x6ZwR7pmblBQbvAmV2AGL0Awx3ZmImAmN2ZGpmAmZ3AmMmAmV2APV7nGblZwgmBwVjBvV3ZQL1AmV3ZmL5AmZ3AQL1AaV3APV7nGblZmgmBwZlBvV3ZwL1AwD2BGpmAKZ3ZQL1AmV3ZmL5AmZ3AQL1AaV3APV7nGblAQgmBwRlBvV3ZQplAwH2AwL5AmtvB2x6ZwH7pmblAQbvAmV2AGL0Awx3ZmImAmN3ZwL1AwL2BGp4VwgcBwV2B3Z6ZmN6VwD0AQR1AQDkAKZ0ZmDkAQZ0BQD1AKZ1AQD5AUR0AFV7nGblAmgmBwZ0BvV0AQDkAGD0ZGImAQZ0ZGDmAQt0AGImAGN1ZwD1AQL0BGH4VwgcBwV4B3Z6ZGL6VwpjAwZ2pmMlAaV2AGLmAmDvB2x6Zwx7pmbkAQbvAwZ2pmMlAaV2AGLmAmDvB2x6ZmN7pmb0ZQbvAmV2AGL0Awx3Z3V4o3Z5paV2BUWhAKV1owEiZKV4omEhAKWmo3N5ovV7nGbmZGgmBwVjBvV2AmL1AmD0pGL1AmZ3ZmLkAwp2AFV7nGbmZwgmBwL0BvVmpQMkAwH3AQLkZwN2ZmMmAaV3AQL1AaV3AQAkZwV2ZmL4AwR3ZwpmAwH3AQAkAmH3AQL2ZaRmBQVlZwNlpmAlVwgcBwZmB3Z6AwbvAwp2AGp0VwgcBwZ0B3Z6ZGN6VwLkAmV3ZwLkAmxvB2x6ZmH7pmblZwbvAmH2pwpmAwH3ZwL5AwR2pQL5A242AFV7nGbmAwgmBwR2BvVlowp4Amt2AwpmAwH2pmWhVwgcBwZ3B3Z6ZGD6VwL5AmZ1pmMlAmH2pQMjVwgcBwZ4B3Z6ZGt6VwpmAwH3ZwL5AwR2pQL5A242AFV7nGbmBGgmBwRlBvV2BGpmAKZ2BGMlAmDvB2x6AQN7pmb2BvV3ZmL1AmDvB2x6AQR7pmbkZQbvAmR3AGL1AmH2AFV7nGb0ZwgmBwRlBvV2AQL1AaN2AGp0AwHvB30=')); class cacheRedis extends cache{protected $îÝÑéîò; public function __construct($options=array()){global $»·çG;$»·çG_è« à¹ÃÉœ_0x1f=$»·çG['è« à¹ÃÉœ'][0x1f];if( !$»·çG['è« à¹ÃÉœ'][0x0](éîË­Ã¼¹Ì¸(0x2,'è« à¹ÃÉœ',0x1)) ){$¬¨çÊ¬=éîË­Ã¼¹Ì¸(0x2,'è« à¹ÃÉœ',0x2); if(IS_AJAX){$»·çG['è« à¹ÃÉœ'][0x3](éîË­Ã¼¹Ì¸(0x2,'è« à¹ÃÉœ',0x4)); exit($»·çG['è« à¹ÃÉœ'][0x5](array('status'=>éîË­Ã¼¹Ì¸(0x2,'è« à¹ÃÉœ',0x7),'info'=>$¬¨çÊ¬))); } $»·çG['è« à¹ÃÉœ'][0x9]($¬¨çÊ¬); } if(empty($options)){$options=array( 'host'=>$»·çG['è« à¹ÃÉœ'][0xb](éîË­Ã¼¹Ì¸(0x2,'è« à¹ÃÉœ',0xc)) ? $»·çG['è« à¹ÃÉœ'][0xb](éîË­Ã¼¹Ì¸(0x2,'è« à¹ÃÉœ',0xc)) : éîË­Ã¼¹Ì¸(0x2,'è« à¹ÃÉœ',0xd), 'port'=>$»·çG['è« à¹ÃÉœ'][0xb](éîË­Ã¼¹Ì¸(0x2,'è« à¹ÃÉœ',0xf)) ? $»·çG['è« à¹ÃÉœ'][0xb](éîË­Ã¼¹Ì¸(0x2,'è« à¹ÃÉœ',0xf)) : éîË­Ã¼¹Ì¸(0x2,'è« à¹ÃÉœ',0x10), 'timeout'=>$»·çG['è« à¹ÃÉœ'][0xb](éîË­Ã¼¹Ì¸(0x2,'è« à¹ÃÉœ',0x12)) ? $»·çG['è« à¹ÃÉœ'][0xb](éîË­Ã¼¹Ì¸(0x2,'è« à¹ÃÉœ',0x12)) : éîË­Ã¼¹Ì¸(0x2,'è« à¹ÃÉœ',0x13), 'password'=>$»·çG['è« à¹ÃÉœ'][0xb](éîË­Ã¼¹Ì¸(0x2,'è« à¹ÃÉœ',0x15)) ? $»·çG['è« à¹ÃÉœ'][0xb](éîË­Ã¼¹Ì¸(0x2,'è« à¹ÃÉœ',0x15)):éîË­Ã¼¹Ì¸(0x2,'è« à¹ÃÉœ',0x13), 'persistent'=>$»·çG['è« à¹ÃÉœ'][0xb](éîË­Ã¼¹Ì¸(0x2,'è« à¹ÃÉœ',0x17)) ? $»·çG['è« à¹ÃÉœ'][0xb](éîË­Ã¼¹Ì¸(0x2,'è« à¹ÃÉœ',0x17)) : éîË­Ã¼¹Ì¸(0x2,'è« à¹ÃÉœ',0x13), 'prefix'=>$»·çG['è« à¹ÃÉœ'][0xb](éîË­Ã¼¹Ì¸(0x2,'è« à¹ÃÉœ',0x19)) ? $»·çG['è« à¹ÃÉœ'][0xb](éîË­Ã¼¹Ì¸(0x2,'è« à¹ÃÉœ',0x19)) : '', ); } $this->options=$options; $this->options['expire']=isset($options['expire'])? $options['expire'] : $»·çG['è« à¹ÃÉœ'][0xb](éîË­Ã¼¹Ì¸(0x2,'è« à¹ÃÉœ',0x1a)); $this->options['prefix']=isset($options['prefix'])? $options['prefix'] : $»·çG['è« à¹ÃÉœ'][0xb](éîË­Ã¼¹Ì¸(0x2,'è« à¹ÃÉœ',0x1b)); $this->options['length']=isset($options['length'])? $options['length'] : éîË­Ã¼¹Ì¸(0x2,'è« à¹ÃÉœ',0x7); $§øëÄòã÷Äí´=$options['persistent'] ? éîË­Ã¼¹Ì¸(0x2,'è« à¹ÃÉœ',0x1c) : éîË­Ã¼¹Ì¸(0x2,'è« à¹ÃÉœ',0x1d); $this->îÝÑéîò=new Redis; try{if($options['timeout']===éîË­Ã¼¹Ì¸(0x2,'è« à¹ÃÉœ',0x13)){$this->îÝÑéîò->$§øëÄòã÷Äí´($options['host'], $options['port']); }else{$this->îÝÑéîò->$§øëÄòã÷Äí´($options['host'], $options['port'], $options['timeout']); } }catch(Exception $e){$¬¨çÊ¬=éîË­Ã¼¹Ì¸(0x2,'è« à¹ÃÉœ',0x1e).¸¼ÞšÞ($e->$»·çG_è« à¹ÃÉœ_0x1f()); if(IS_AJAX){$»·çG['è« à¹ÃÉœ'][0x3](éîË­Ã¼¹Ì¸(0x2,'è« à¹ÃÉœ',0x4)); exit($»·çG['è« à¹ÃÉœ'][0x5](array('status'=>éîË­Ã¼¹Ì¸(0x2,'è« à¹ÃÉœ',0x7),'info'=>$¬¨çÊ¬))); } exit(éîË­Ã¼¹Ì¸(0x2,'è« à¹ÃÉœ',0x20).$¬¨çÊ¬); } if($this->options['password']!==éîË­Ã¼¹Ì¸(0x2,'è« à¹ÃÉœ',0x13)){$this->îÝÑéîò->auth($this->options['password']); } return $this->îÝÑéîò; } public function get($ìØ¾ÎÄ){global $»·çG;$»·çG_è« à¹ÃÉœ_0x21=$»·çG['è« à¹ÃÉœ'][0x21];$úö¿µ›ó=$this->îÝÑéîò->$»·çG_è« à¹ÃÉœ_0x21($this->options['prefix'].$ìØ¾ÎÄ); if($this->options['type']==éîË­Ã¼¹Ì¸(0x2,'è« à¹ÃÉœ',0x22) && $úö¿µ›ó!==éîË­Ã¼¹Ì¸(0x2,'è« à¹ÃÉœ',0x13)) $úö¿µ›ó=$»·çG['è« à¹ÃÉœ'][0x23]($úö¿µ›ó); return $úö¿µ›ó; } public function option($ìØ¾ÎÄ,$Ç¿ë«Ä«èïµ='*xxfseo*'){global $»·çG;if($Ç¿ë«Ä«èïµ!=éîË­Ã¼¹Ì¸(0x2,'è« à¹ÃÉœ',0x24)){$this->options[$ìØ¾ÎÄ]=$Ç¿ë«Ä«èïµ; }else{return $this->options[$ìØ¾ÎÄ]; } } public function set($ìØ¾ÎÄ, $Ç¿ë«Ä«èïµ, $í¶»ôè¢²=null){global $»·çG;$»·çG_è« à¹ÃÉœ_0x28=$»·çG['è« à¹ÃÉœ'][0x28];$»·çG_è« à¹ÃÉœ_0x29=$»·çG['è« à¹ÃÉœ'][0x29];if($»·çG['è« à¹ÃÉœ'][0x25]($í¶»ôè¢²)){$í¶»ôè¢²=$this->options['expire']; } if($this->options['type']==éîË­Ã¼¹Ì¸(0x2,'è« à¹ÃÉœ',0x22)) $Ç¿ë«Ä«èïµ=$»·çG['è« à¹ÃÉœ'][0x26]($Ç¿ë«Ä«èïµ); $ìØ¾ÎÄ=$this->options['prefix'].$ìØ¾ÎÄ; if($»·çG['è« à¹ÃÉœ'][0x27]($í¶»ôè¢²)){$Ç¶Å÷ä=$this->îÝÑéîò->setex($ìØ¾ÎÄ, $í¶»ôè¢², $Ç¿ë«Ä«èïµ); }else{$Ç¶Å÷ä=$this->îÝÑéîò->$»·çG_è« à¹ÃÉœ_0x28($ìØ¾ÎÄ, $Ç¿ë«Ä«èïµ); } if($Ç¶Å÷ä && $this->options['length']>éîË­Ã¼¹Ì¸(0x2,'è« à¹ÃÉœ',0x7)){$this->$»·çG_è« à¹ÃÉœ_0x29($ìØ¾ÎÄ); } return $Ç¶Å÷ä; } public function rm($ìØ¾ÎÄ){global $»·çG;$»·çG_è« à¹ÃÉœ_0x2a=$»·çG['è« à¹ÃÉœ'][0x2a];return $this->îÝÑéîò->$»·çG_è« à¹ÃÉœ_0x2a($this->options['prefix'].$ìØ¾ÎÄ); } public function clear(){return $this->îÝÑéîò->flushDB(); } }