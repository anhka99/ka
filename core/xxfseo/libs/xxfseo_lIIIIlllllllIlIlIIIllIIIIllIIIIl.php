<?php 
/* ҵֹ룬by Сseo ַxxfseo.com */
defined('APP_ROOT') or exit("access denied"); $G['ҳ']=˭ü̸(0x4,˭ü̸(0x5,'LGb5Amc7nGbjB3Z6ZGL6VwL5AmZ1pmL2AaN2pmLkAmDvB2x6ZGgmBwR4BvV2pGL5AwZ3ZwMmAmD2BGMkAwHvB2x6ZwgmBwt6VwH0AGV1AGD1VwgcBwZ7pmbkZQbvAmV2pmp1AaV2APV7nGb0B3Z6ZmV6VwMkAwH2pGMmAmV3BGImAwp2AGp0AKZ3AGpmAwR2AmL1VwgcBwH7pmb2BvV2pGL0ZmHvB2x6AwgmBwR0BvV1pmpmAmD2ZGp0Awx2ZlV7nGb3B3Z6ZGV6VwL5AaV3AQp2AwR2pPV7nGb4B3Z6ZGD6VwL5AmZ1pmMlAmH2pQMjVwgcBwx7pmbkAQbvAwH3BQpjAaN2pmL0AwHvB2x6ZGN7pmblAQbvAwR3ZwplAwR3BGImAmZ2AGLkAmV2ZmL4VwgcBwRkB2V6ZQgcBwRlB3Z6BQbvAmD3ZwL5AaRvB2x6ZGZ7pmbkZwbvAmZ3AQplAmN2pmpmVwgcBwR0B3Z6ZGD6VwpmAmN3ZwL5AaV3AQL2VwgcBwR1B3Z6ZGD6VwL5AmNmZwMjAaZ2pwL3VwgcBwR2B3Z6ZGt6VwpjAwR3ZwpmAwH1pmp1AmV2pPV7nGbkAmgmBwR4BvV2BGpmAKZ3Zmp0AmV2BGMlAwpvB2x6ZGt7pmbkBQbvAmN2ZGplAmZ2AGImAmZ3AQplVwgcBwR5B3Z6ZGL6VwL5AmZ1pmLkAmV3ZwLkAmxvB2x6ZwN7pmblZwbvAwR3ZwplAwR3BGImAaR2AGplAwp2AFV7nGblZGgmBwRlBvV2ZmMmAaV2AwL5AwpvB2x6ZwV7pmblZwbvAmZ3AQplAKZ3ZwL1AmN2pQLkAwZ2AFV7nGblZmgmBwR4BvV2ZGplAmV2ZGp5AKZ3ZQMmAmNvB2x6ZwD7pmbmZwbvAwt3AQp0AmN1pmLlAmH2BGMjAwD1pmpkAmH2AGplAmxvB2x6ZwH7pmblAwbvAwR3ZwplAwR3BGImAmV2AGp2AwH3ZwpmAwHvB2x6ZwL7pmbkBQbvAmH3ZwMjAwD2AGLmAaZ2AQL1VwgcBwV3B3Z6ZGD6VwL5AaR3ZQMjAaZ2AQL1VwgcBwV4B3Z6ZGt6Vwp1AmV2pQL1AaV2ZmMmAwD2AFV7nGblBGgvBwR7nGbmZQgmBwRlBvV3Zmp1AwV3Zmp0AmVvB2x6ZmR7pmbkZQbvAaN3AQplAwx2pFV7nGbmZwgmBwR2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')); function _runtime($蛰ü,$Ⱥ='',$ڸ=4){global $G;static $=array(); if($G['ҳ'][0x0]($Ⱥ)){$[$蛰ü]=$Ⱥ; }elseif(!empty($Ⱥ)){$[$蛰ü.'____'.$Ⱥ]=$G['ҳ'][0x1](˭ü̸(0x2,'ҳ',0x2)); return $G['ҳ'][0x3](($[$蛰ü.'____'.$Ⱥ]-$[$蛰ü]),$ڸ); }else{$[$蛰ü]=$G['ҳ'][0x1](˭ü̸(0x2,'ҳ',0x2)); } } function _run_mem($蛰ü,$Ⱥ='',$ڸ=4){global $G;static $=array(); if($G['ҳ'][0x0]($Ⱥ)){$[$蛰ü]=$Ⱥ; }elseif(!empty($Ⱥ)){return $G['ҳ'][0x3](($G['ҳ'][0x4]()-$[$蛰ü])/1024,$ڸ); }else{$[$蛰ü]=$G['ҳ'][0x4](); } } function num($蛰ü, $㱜=0){global $G;$蛰ü=$G['ҳ'][0x5]($蛰ü.'_num'); if (!$G['ҳ'][0x6]($蛰ü)){$G['ҳ'][0x6]($蛰ü,0); } if (empty($㱜)){return $G['ҳ'][0x6]($蛰ü); }else{$G['ҳ'][0x6]($蛰ü,$G['ҳ'][0x7]($G['ҳ'][0x6]($蛰ü))+ $G['ҳ'][0x7]($㱜)); } } function _static($蛰ü,$ǿī=null){global $G;static $޾Ĝ=array(); if (empty($蛰ü)) return $޾Ĝ; if ($G['ҳ'][0x8]($ǿī)){return isset($޾Ĝ[$蛰ü]) ? $޾Ĝ[$蛰ü] : null; } $޾Ĝ[$蛰ü]=$ǿī; return null; } function get_client_ip($=0){global $G;$=$ ? 1 : 0; static $=array(); $=''; if ($) return $[$]; if(isset($_SERVER['HTTP_X_REAL_IP'])){$õ=$_SERVER['HTTP_X_REAL_IP']; }elseif (isset($_SERVER['HTTP_CF_CONNECTING_IP'])){$õ=$_SERVER['HTTP_CF_CONNECTING_IP']; }elseif (isset($_SERVER['HTTP_INCAP_CLIENT_IP'])){$õ=$_SERVER['HTTP_INCAP_CLIENT_IP']; }elseif (isset($_SERVER['REMOTE_ADDR'])){$õ=$_SERVER['REMOTE_ADDR']; }elseif (isset($_SERVER['HTTP_CLIENT_IP'])){$õ=$_SERVER['HTTP_CLIENT_IP']; }elseif (isset($_SERVER['HTTP_X_FORWARDED_FOR'])){$޵ԫ=$G['ҳ'][0x9](',', $_SERVER['HTTP_X_FORWARDED_FOR']); $ڷɟ=$G['ҳ'][0xa]('unknown',$޵ԫ); if(˭ü̸(0x2,'ҳ',0xb) !== $ڷɟ) unset($޵ԫ[$ڷɟ]); $õ=$G['ҳ'][0xc]($޵ԫ[0]); } if($G['ҳ'][0xd]($õ,':')){$õ=preg_replace('~[^\w:]+~','',$õ); return $õ; }else{$=$G['ҳ'][0xe]("%u",$G['ҳ'][0xf]($õ)); } $=$ ? array($õ, $) : array('0.0.0.0', 0); return $[$]; } function url($='',$ȴ='',$С=true){global $G;$info=$G['ҳ'][0x10]($); $=!empty($info['path'])?$info['path']:ACTION_NAME; if($G['ҳ'][0x11]($ȴ)){$G['ҳ'][0x12]($ȴ,$ȴ); }elseif(!$G['ҳ'][0x13]($ȴ)){$ȴ=array(); } if(isset($info['query'])){$G['ҳ'][0x12]($info['query'],$Ӝ); $ȴ=$G['ҳ'][0x14]($Ӝ,$ȴ); } $=$G['ҳ'][0x15]('URL_PATH_DEPR'); if($){if('/' != $){$=$G['ҳ'][0x16]('/',$,$); } $=$G['ҳ'][0xc]($,$); $=$G['ҳ'][0x9]($,$); $var=array(); $var[$G['ҳ'][0x15]('ACTION_VAR')]=!empty($)?$G['ҳ'][0x17]($):ACTION_NAME; $var[$G['ҳ'][0x15]('MODULE_VAR')]=!empty($)?$G['ҳ'][0x17]($):MODULE_NAME; if($G['ҳ'][0x15]('APP_GROUP_LIST')){if(!empty($)){$=$G['ҳ'][0x17]($); $var[$G['ҳ'][0x15]('GROUP_VAR')]=$; }else{if(GROUP_NAME != $G['ҳ'][0x15]('DEFAULT_GROUP')){$var[$G['ҳ'][0x15]('GROUP_VAR')]=GROUP_NAME; } } } } if($G['ҳ'][0x15]('URL_MODEL') == 1){$=__APP__.'?'.$G['ҳ'][0x18]($G['ҳ'][0x19]($var)); if(!empty($ȴ)){$ȴ=$G['ҳ'][0x1a]($G['ҳ'][0x18]($ȴ)); $.='&'.$ȴ; } }else{if($G['ҳ'][0x15]('URL_MODEL')==2){$ѭś=__APP__.'?'; }else{$ѭś=__ROOT__.'/'; } $=$ѭś.$G['ҳ'][0x1b]($,$G['ҳ'][0x19]($var)); if(!empty($ȴ)){foreach ($ȴ as $var=>$ߛ){if('' !== $G['ҳ'][0xc]($ߛ)){$ߛ=$G['ҳ'][0x1c]($ߛ); $ߛ=$G['ҳ'][0x16](array('%21','%40','%2C'),array('!','@',','),$ߛ); $.=$ . $var . $ . $ߛ; } } } if($С){$С=$С===˭ü̸(0x2,'ҳ',0x1d)?$G['ҳ'][0x15]('URL_PATH_SUFFIX'):$С; if($ڷɟ=$G['ҳ'][0xd]($С, '|')){$С=$G['ҳ'][0x1e]($С, 0, $ڷɟ); } if($С && '/' != $G['ҳ'][0x1e]($,-1)){$.='.'.$G['ҳ'][0x1f]($С,'.'); } } } return $; } function dump($,$=false,$=false){global $G;$G['ҳ'][0x20](); if($){$G['ҳ'][0x21]($); }else{$G['ҳ'][0x22]($); } $=$G['ҳ'][0x23](); echo '<pre>'.$.'</pre>'; if($) exit; return; } function txtDB($ؾ='',$蛰ü='',$=false){global $G;$G_ҳ_0x26=$G['ҳ'][0x26];$G_ҳ_0x27=$G['ҳ'][0x27];static $=array(); $G['ҳ'][0x24](LIB_PATH.˟ͻϛ('db','').'/'.˟ͻϛ('txtSQL.class.php')); $G['ҳ'][0x24](LIB_PATH.˟ͻϛ('db','').'/'.˟ͻϛ('dbTxt.class.php')); $=$ؾ.$蛰ü; if (!isset($[$])){$[$]=new dbTxt($G['ҳ'][0x25](TEMP_PATH,'/'),'db',$ؾ); if(APP_DEBUG or $G['ҳ'][0x15]('web_debug')){$[$]->_STRICT=˭ü̸(0x2,'ҳ',0x1d); }else{$[$]->_STRICT=˭ü̸(0x2,'ҳ',0xb); } $С=$G['ҳ'][0x9](',',$G['ҳ'][0x15]('DB_HASH_LIST')); if($С){foreach($С as $Թ=>$ӷ){list($,$)=$G['ҳ'][0x9]('|',$ӷ); if($ؾ==$){$[$]->$G_ҳ_0x26($); if($蛰ü!='') $[$]->$G_ҳ_0x27($蛰ü,$); } } } } return $[$]; } function DB($ؾ='',$Ĺ樽=false){global $G;$G_ҳ_0x28=$G['ҳ'][0x28];static $=array(); $=$G['ҳ'][0x5]($ؾ); if(!isset($[$]) || $Ĺ樽){if(APP_DEBUG or $G['ҳ'][0x15]('web_debug')){$['db_debug']=˭ü̸(0x2,'ҳ',0x1d); } $[$]=new db(); if($ؾ){$[$]->$G_ҳ_0x28($ؾ); } } return $[$]; } function import($ڲ,$='.class.php'){global $G;static $=array(); $ڲ=$G['ҳ'][0x16](array('.', '#'), array('/', '.'), $ڲ); $ǯƧ=APPLIB_PATH.$ڲ.$; if(isset($[$ǯƧ])) return ˭ü̸(0x2,'ҳ',0x1d); $[$ڲ]=˭ü̸(0x2,'ҳ',0x1d); $=$G['ҳ'][0x9]('/', $ڲ); if(!$G['ҳ'][0x29]($G['ҳ'][0x2a]($ڲ),˭ü̸(0x2,'ҳ',0xb))){return $G['ҳ'][0x24]($ǯƧ); } } function raction($,$ȴ=array()){global $G;$GLOBALS['RACTION']=˭ü̸(0x2,'ҳ',0x1d); $info=$G['ҳ'][0x2b]($); $=$info['basename']; $´=$info['dirname']; $ڲ=$G['ҳ'][0x2c]($´); if($ڲ){if($G['ҳ'][0x11]($ȴ)){$G['ҳ'][0x12]($ȴ,$ȴ); } return call_user_func_array(array(&$ڲ,$),$ȴ); }else{return ˭ü̸(0x2,'ҳ',0xb); } } function action($ؾ){global $G;static $ͣʥ=array(); $С=$G['ҳ'][0x15]('DEFAULT_C_SUFFIX'); $ؾ=$ؾ.$G['ҳ'][0x2d]($С); $뱤ޯ=$С.'/'.$ؾ; if(isset($ͣʥ[$뱤ޯ])) return $ͣʥ[$뱤ޯ]; if($G['ҳ'][0x15]('AUTOLOAD_ENCODE')){list($,$ĳ)=$G['ҳ'][0x9]('/',$ؾ); $ؼ=ACTION_PATH.˟ͻϛ($,''); $ǯƧ=$ؼ.'/'.˟ͻϛ($ĳ.'.class.php'); $G['ҳ'][0x24]($ǯƧ); }else{$G['ҳ'][0x2e]($뱤ޯ); } $ڲ=$G['ҳ'][0x2a]($뱤ޯ); if($G['ҳ'][0x15]('AUTOLOAD_ENCODE')){$ڲ=˟ͻϛ($ڲ.'.class.php'); $ڲ=$G['ҳ'][0x16]('.php','',$ڲ); } if($G['ҳ'][0x29]($ڲ,˭ü̸(0x2,'ҳ',0xb)) && $ڲ!='Action' ){$=new $ڲ(); $ͣʥ[$뱤ޯ]=$; return $; }else{return ˭ü̸(0x2,'ҳ',0xb); } } function config($ؾ=null, $ǿī=null){global $G;static $=array(); if (empty($ؾ)) return $; if ($G['ҳ'][0x11]($ؾ)){if (!$G['ҳ'][0xd]($ؾ, '.')){$ؾ=$G['ҳ'][0x2f]($ؾ); if ($G['ҳ'][0x8]($ǿī)) return isset($[$ؾ]) ? $[$ؾ] : null; $[$ؾ]=$ǿī; return; } $ؾ=$G['ҳ'][0x9]('.', $ؾ); $ؾ[0]=$G['ҳ'][0x2f]($ؾ[0]); if ($G['ҳ'][0x8]($ǿī)) return isset($[$ؾ[0]][$ؾ[1]]) ? $[$ؾ[0]][$ؾ[1]] : null; $[$ؾ[0]][$ؾ[1]]=$ǿī; return; } if ($G['ҳ'][0x13]($ؾ)) return $=$G['ҳ'][0x14]($, $G['ҳ'][0x30]($ؾ)); return null; } function require_load($ۙ){global $G;static $=array(); if(!isset($[$ۙ])){$G['ҳ'][0x31]('require_file_'.$ۙ); $=$G['ҳ'][0x32]($ۙ).'/'.$G['ҳ'][0x2a]($ۙ); $=$G['ҳ'][0x16]('\\','/',$); if($G['ҳ'][0x33]($)){$[$ۙ]=˭ü̸(0x2,'ҳ',0x1d); require $; }else{$[$ۙ]=˭ü̸(0x2,'ҳ',0xb); } $G['ҳ'][0x31]('require_file_'.$ۙ,'end'); } return $[$ۙ]; } function load($ؾ, $='', $='.php'){global $G;$ؾ=$G['ҳ'][0x16](array('.', '#'), array('/', '.'), $ؾ); if(empty($)){$=FUNCTION_PATH; } if($G['ҳ'][0x1e]($, -1) != '/') $.='/'; $ۙ=˟ͻϛ($ؾ.$,$); $G['ҳ'][0x24]($ .$ۙ ); } function xml_encode($, $ѭś='txtcms', $='item', $ҳ˞='', $='id', $='utf-8'){global $G;if($G['ҳ'][0x13]($ҳ˞)){$ә=array(); foreach ($ҳ˞ as $蛰ü=>$ǿī){$ә[]="{$蛰ü}=\"{$ǿī}\""; } $ҳ˞=$G['ҳ'][0x1b](' ', $ә); } $ҳ˞=$G['ҳ'][0xc]($ҳ˞); $ҳ˞=empty($ҳ˞) ? '' : " {$ҳ˞}"; $ř="<?xml version=\"1.0\" encoding=\"{$}\"?>"; $ř.="<{$ѭś}{$ҳ˞}>"; $ř.=$G['ҳ'][0x34]($, $, $); $ř.="</{$ѭś}>"; return $ř; } function data_to_xml($, $='item', $='id'){global $G;$ř=$ҳ˞=''; foreach ($ as $蛰ü=>$ߛ){if($G['ҳ'][0x35]($蛰ü)){$ && $ҳ˞=" {$}=\"{$蛰ü}\""; $蛰ü=$; } $ř.="<{$蛰ü}{$ҳ˞}>"; $ř.=($G['ҳ'][0x13]($ߛ) || $G['ҳ'][0x36]($ߛ)) ? $G['ҳ'][0x34]($ߛ, $, $) : $ߛ; $ř.="</{$蛰ü}>"; } return $ř; } function _404($ʬ='',$=''){global $G;(APP_DEBUG || $G['ҳ'][0x15]('web_debug')) && $G['ҳ'][0x37]($ʬ); if(empty($) && $G['ҳ'][0x15]('URL_404_REDIRECT')){$=$G['ҳ'][0x15]('URL_404_REDIRECT'); } if($){$G['ҳ'][0x38]($); }else{$G['ҳ'][0x39](404); exit; } } function send_http_status($μԟ){global $G;static $µ=array( 100=>'Continue', 101=>'Switching Protocols', 200=>'OK', 201=>'Created', 202=>'Accepted', 203=>'Non-Authoritative Information', 204=>'No Content', 205=>'Reset Content', 206=>'Partial Content', 300=>'Multiple Choices', 301=>'Moved Permanently', 302=>'Moved Temporarily ', 303=>'See Other', 304=>'Not Modified', 305=>'Use Proxy', 307=>'Temporary Redirect', 400=>'Bad Request', 401=>'Unauthorized', 402=>'Payment Required', 403=>'Forbidden', 404=>'Not Found', 405=>'Method Not Allowed', 406=>'Not Acceptable', 407=>'Proxy Authentication Required', 408=>'Request Timeout', 409=>'Conflict', 410=>'Gone', 411=>'Length Required', 412=>'Precondition Failed', 413=>'Request Entity Too Large', 414=>'Request-URI Too Long', 415=>'Unsupported Media Type', 416=>'Requested Range Not Satisfiable', 417=>'Expectation Failed', 500=>'Internal Server Error', 501=>'Not Implemented', 502=>'Bad Gateway', 503=>'Service Unavailable', 504=>'Gateway Timeout', 505=>'HTTP Version Not Supported', 509=>'Bandwidth Limit Exceeded' ); if(isset($µ[$μԟ])){$G['ҳ'][0x3a]('HTTP/1.1 '.$μԟ.' '.$µ[$μԟ]); $G['ҳ'][0x3a]('Status:'.$μԟ.' '.$µ[$μԟ]); } } function redirect($, $׽ީڭ=0, $ʬ=''){global $G;$=$G['ҳ'][0x16](array("\n", "\r"), '', $); if (empty($ʬ)) $ʬ="系统将在{$׽ީڭ}秒之后自动跳转到{$}！"; if (!$G['ҳ'][0x3b]()){if (0 === $׽ީڭ){$G['ҳ'][0x3a]('Location: ' . $); } else{$G['ҳ'][0x3a]("refresh:{$׽ީڭ};url={$}"); echo($ʬ); } exit(); } else{$="<meta http-equiv='Refresh' content='{$׽ީڭ};URL={$}'>"; if ($׽ީڭ != 0) $.=$ʬ; exit($); } } function relative_path($){global $G;$=$G['ҳ'][0x16]('\\','/',$); return $G['ҳ'][0x16](APP_PATH,'/',$); } function runTime($׸,$='',$ڸ=4){global $G;static $=array(); static $Ŭ=array(); if($G['ҳ'][0x0]($)){$[$׸]=$; }elseif(!empty($)){if(!isset($[$])) $[$]=$G['ҳ'][0x1](˭ü̸(0x2,'ҳ',0x2)); if(MEMORY_LIMIT_ON && $ڸ=='m'){if(!isset($Ŭ[$])) $Ŭ[$]=$G['ҳ'][0x4](); return $G['ҳ'][0x3c](($Ŭ[$]-$Ŭ[$׸])/1024); }else{return $G['ҳ'][0x3c](($[$]-$[$׸]),$ڸ); } }else{$[$׸]=$G['ҳ'][0x1](˭ü̸(0x2,'ҳ',0x2)); if(MEMORY_LIMIT_ON) $Ŭ[$׸]=$G['ҳ'][0x4](); } } function exception($){global $G;$e=array(); if (APP_DEBUG || $G['ҳ'][0x15]('web_debug')){if (!$G['ҳ'][0x13]($)){$ҼĦ=$G['ҳ'][0x3d](); $e['message']=$; $e['file']=$G['ҳ'][0x3e]($ҼĦ[0]['file']); $e['line']=$ҼĦ[0]['line']; $G['ҳ'][0x20](); $G['ҳ'][0x3f](); $e['trace']=$G['ҳ'][0x23](); } else{$e=$; } } else{$ٜ=$G['ҳ'][0x15]('ERROR_PAGE'); if (!empty($ٜ) && ($ٜ!='/' || ($ٜ=='/' && !empty($_SERVER["QUERY_STRING"])) )){$G['ҳ'][0x38]($ٜ); } else{if ($G['ҳ'][0x15]('SHOW_ERROR_MSG')){$e['message']=$G['ҳ'][0x13]($) ? $['message'] : $; }else{$e['message']=$G['ҳ'][0x15]('ERROR_MESSAGE'); } } } $e['message']=$e['message']; include $G['ҳ'][0x15]('TMPL_EXCEPTION_FILE'); exit; } function throw_exception($ʬ,$='xxfseoException', $μԟ=0){global $G;if ($G['ҳ'][0x29]($, ˭ü̸(0x2,'ҳ',0xb))){throw new $($ʬ, $μԟ); }else{$G['ҳ'][0x40]($ʬ); } } function data($ؾ, $ǿī='', $options=array()){global $G;if(isset($options['cachetype'])){$Υ=$options['cachetype']; }else{$Υ=$G['ҳ'][0x15]('cache_type'); } !$Υ && $Υ='file'; if($Υ=='file'){return $G['ҳ'][0x41]($ؾ, $ǿī, $options); } if($Υ=='redis'){return $G['ҳ'][0x42]($ؾ, $ǿī, $options); } } function data_file($ؾ, $ǿī='', $options=array()){global $G;static $ǥʭ=array(); $=DATA_PATH; $袲=0; if(isset($options['expire'])){$袲=$options['expire']; } if(isset($options['path'])){$=$options['path']; } $뱤ޯ=$ . $ؾ . '.php'; $Ͽ=$G['ҳ'][0x5]($뱤ޯ); if ('' !== $ǿī){if ($G['ҳ'][0x8]($ǿī)){return ˭ü̸(0x2,'ҳ',0xb) !== $G['ҳ'][0xd]($ؾ,'*')?$G['ҳ'][0x43]("unlink", $G['ҳ'][0x44]($뱤ޯ)):$G['ҳ'][0x45]($뱤ޯ); } else{$=$G['ҳ'][0x32]($뱤ޯ); if (!$G['ҳ'][0x46]($)){$G['ҳ'][0x47]($,0766,˭ü̸(0x2,'ҳ',0x1d)); } $ǥʭ[$Ͽ]=$ǿī; return $G['ҳ'][0x48]($뱤ޯ, "<?php\treturn " . $G['ҳ'][0x49]($ǿī, ˭ü̸(0x2,'ҳ',0x1d)) . ";?>"); } } if (isset($ǥʭ[$Ͽ])) return $ǥʭ[$Ͽ]; if ($G['ҳ'][0x33]($뱤ޯ)){if($袲 != 0){if($G['ҳ'][0x4a]() < $G['ҳ'][0x4b]($뱤ޯ) + $袲){$ǿī=include $뱤ޯ; $ǥʭ[$Ͽ]=$ǿī; }else{$ǿī=˭ü̸(0x2,'ҳ',0xb); } }else{$ǿī=include $뱤ޯ; $ǥʭ[$Ͽ]=$ǿī; } } else{$ǿī=null; } return $ǿī; } function data_redis($ؾ,$ǿī='',$options=array()){global $G;$G_ҳ_0x4c=$G['ҳ'][0x4c];$G_ҳ_0x4d=$G['ҳ'][0x4d];$G_ҳ_0x4e=$G['ҳ'][0x4e];$G_ҳ_0x4f=$G['ҳ'][0x4f];$G_ҳ_0x50=$G['ҳ'][0x50];static $=array(); static $=''; $ܣ=$ؾ; $ؾ.='_'.$G['ҳ'][0x5]($options['path']); !isset($options['type']) && $options['type']='array'; if(empty($)){$=new cache(); $->$G_ҳ_0x4c('redis'); } $->$G_ҳ_0x4d('path',$options['path']); $->$G_ҳ_0x4d('expire',$options['expire']); $->$G_ҳ_0x4d('type',$options['type']); if(''=== $ǿī){$ǿī=$->$G_ҳ_0x4e($ؾ); if($ǿī===˭ü̸(0x2,'ҳ',0xb) && $options['isfile']){$ǿī=$G['ҳ'][0x41]($ؾ, '', $options); } return $ǿī; }elseif($G['ҳ'][0x8]($ǿī)){return $->$G_ҳ_0x4f($ؾ); }else{if($G['ҳ'][0x13]($options)){$袲=isset($options['expire'])?$options['expire']:NULL; }else{$袲=$G['ҳ'][0x35]($options)?$options:NULL; } if($options['isfile']){$G['ҳ'][0x41]($ܣ, $ǿī, $options); } return $->$G_ҳ_0x50($ؾ, $ǿī, $袲); } } function cache($蛰ü,$ǿī='',$袲=0,$=''){global $G;$=$=='' ? 'temp' : $; return $G['ҳ'][0x51]($蛰ü, $ǿī,array('expire'=>$袲,'path'=>CACHE_PATH,'cachetype'=>'file')); } function getHashDir($蛰ü, $ڦ=3){global $G;$鶠=array(); $鿦߶=$G['ҳ'][0x52]($G['ҳ'][0x53]($蛰ü), 2); for($Ϡ=0; $Ϡ < $ڦ; $Ϡ++){$鶠[]=$鿦߶[$Ϡ]; } $=$G['ҳ'][0x16]('\\', '/', $G['ҳ'][0x1b](DIRECTORY_SEPARATOR, $鶠)); return $; } function writefile($ۙ,$,$ ="w"){global $G;$=$G['ҳ'][0x32]($ۙ); if(!$G['ҳ'][0x46]($)){$G['ҳ'][0x47]($,0777,˭ü̸(0x2,'ҳ',0x1d)); } if( $G['ҳ'][0x33]($ۙ) && !$G['ҳ'][0x54]($ۙ)){return ˭ü̸(0x2,'ҳ',0xb); } $Ƕ=˭ü̸(0x2,'ҳ',0xb); if($¢=$G['ҳ'][0x55]($ۙ,$ )){$G['ҳ'][0x56](180); $˾κ=$G['ҳ'][0x1](˭ü̸(0x2,'ҳ',0x1d))*1000; do{$ø=$G['ҳ'][0x57]($¢,˭ü̸(0x2,'ҳ',0x58) | ˭ü̸(0x2,'ҳ',0x59)); if(!$ø){$G['ҳ'][0x5a]($G['ҳ'][0x3]($G['ҳ'][0x5b](0,100)*1000)); } }while((!$ø)&&(($G['ҳ'][0x1](˭ü̸(0x2,'ҳ',0x1d))*1000-$˾κ)<1000)); if($ø){$Ƕ=$G['ҳ'][0x5c]($¢,$); $G['ҳ'][0x57]($¢,˭ü̸(0x2,'ҳ',0x5d)); } $G['ҳ'][0x5e]($¢); $G['ҳ'][0x56](RUNTIME_LIMIT); } return $Ƕ; } function debug_log($蛰ü=null,$Ⱥ=''){global $G;static $ʹ=array(); if($蛰ü===null && $ʹ){$μ=$ڣѥ=0; foreach($ʹ as $蛰ü=>$޺){$μ+=$޺['usetime']; $ڣѥ+=$޺['memory']; $¦[$蛰ü]=$޺['usetime']; $Ͷ[$蛰ü]=$޺['memory']; } $ʹ[]=array( 'key'=>'alluse', 'usetime'=>$μ, 'memory'=>$ڣѥ, 'slow'=>˭ü̸(0x2,'ҳ',0x1d), ); return $ʹ; } if($Ⱥ==''){$G['ҳ'][0x5f]($蛰ü); $G['ҳ'][0x60]($蛰ü); }else{$=$G['ҳ'][0x5f]($蛰ü,$Ⱥ); $ʛ=$G['ҳ'][0x60]($蛰ü,$Ⱥ); $ʹ[]=array( 'key'=>$蛰ü, 'usetime'=>$, 'memory'=>$ʛ, 'slow'=>($>0.05), ); return 'usetime: '.$.'s , memory: '.$ʛ.'kb'; } } function get_tags_runtime(){$=array( 'loop','getone','menu','geturl','function' ); $޵ԫ=array(); foreach($ as $Թ=>$ӷ){$޵ԫ[$ӷ]=isset($GLOBALS['tag_'.$ӷ.'_runtime'])?$GLOBALS['tag_'.$ӷ.'_runtime']:0; } return $޵ԫ; } function show_debug_page(){include('./static/tips/page_debug.html'); }